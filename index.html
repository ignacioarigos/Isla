<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Calendario</title>
  <style>
    body { font-family: Arial; background: #1e1e1e; color: white; margin: 20px; }
    table { border-collapse: collapse; width: 100%; }
    th, td { padding: 10px; text-align: center; border: 1px solid #444; }
    th { background-color: #ff6600; color: black; }
    td { cursor: pointer; }
    button { margin: 10px 5px; padding: 5px 15px; background-color: #ff6600; border: none; color: white; font-weight: bold; cursor: pointer; }
    button:hover { background-color: #ffa040; }
  </style>
</head>
<body>

  <h1 id="mes-actual"></h1>
  <button onclick="mesAnterior()">←</button>
  <button onclick="siguienteMes()">→</button>
  <table>
    <thead>
      <tr>
        <th>Lun</th><th>Mar</th><th>Mié</th><th>Jue</th><th>Vie</th><th>Sáb</th><th>Dom</th>
      </tr>
    </thead>
    <tbody id="tbody">
      <!-- Aquí se genera el calendario -->
    </tbody>
  </table>

  <p id="asignado">Seleccioná una fecha para ver la asignación</p>

  <script>
    let fechaActual = new Date();

    function dibujarMes(fecha) {
      const tbody = document.getElementById("tbody");
      tbody.innerHTML = "";

      const año = fecha.getFullYear();
      const mes = fecha.getMonth();
      const primerDia = new Date(año, mes, 1);
      const diaInicio = (primerDia.getDay() + 6) % 7; // Para que lunes sea el primer día
      const diasEnMes = new Date(año, mes + 1, 0).getDate();

      let fila = document.createElement("tr");

      for (let i = 0; i < diaInicio; i++) {
        fila.appendChild(document.createElement("td"));
      }

      for (let dia = 1; dia <= diasEnMes; dia++) {
        const celda = document.createElement("td");
        celda.textContent = dia;
        const fechaStr = `${año}-${(mes + 1).toString().padStart(2, '0')}-${dia.toString().padStart(2, '0')}`;
        celda.dataset.fecha = fechaStr;
        celda.onclick = () => seleccionarFecha(fechaStr);
        fila.appendChild(celda);

        if ((dia + diaInicio) % 7 === 0) {
          tbody.appendChild(fila);
          fila = document.createElement("tr");
        }
      }

      if (fila.hasChildNodes()) {
        tbody.appendChild(fila);
      }

      const nombreMes = fecha.toLocaleString("es-ES", { month: "long" });
      document.getElementById("mes-actual").textContent = `${nombreMes.charAt(0).toUpperCase() + nombreMes.slice(1)} ${año}`;
      document.getElementById("asignado").textContent = "Seleccioná una fecha para ver la asignación";
    }

    function siguienteMes() {
      fechaActual.setMonth(fechaActual.getMonth() + 1);
      dibujarMes(fechaActual);
    }

    function mesAnterior() {
      fechaActual.setMonth(fechaActual.getMonth() - 1);
      dibujarMes(fechaActual);
    }

    function seleccionarFecha(fechaStr) {
      document.getElementById("asignado").textContent = `Asignación para ${fechaStr}`;
    }

    dibujarMes(fechaActual);
  </script>

</body>
</html>
